@page
@model Clippy.Pages.Following.IndexModel
@{
    ViewData["Title"] = "Following";
}

<link rel="stylesheet" href="/css/following.css" />
@if (!Model.ThisUser.ClippyMode)
{
    <link rel="stylesheet" href="/css/noclippymode.css" />
}

<div class="body">
<section class="title">
Your Community
</section>

<div class="searchbar-container">
    
</div>
<div class="buttons-container">
    <a href="/Following/Followers"><button class="followers">Followers</button></a>
    <button class="following-a">Following</button>
</div>

<section class="content">
    @foreach (var user in Model.ThisUser.Subscriptions) {
        <div class="following-item">
            <div class="image" style= "background-image: url('@user.AvatarUrl')"></div>
            <a asp-page="/Profile/Index" asp-route-id="@user.Id">
                <div class="person-name">
                    @user.Name
                </div> 
            </a>
            <form method="post" asp-route-thisuser="@Model.ThisUser.Id" asp-route-viewinguser="@user.Id">
                <button>Unfollow</button>
            </form>
        </div>
    }
</section>
</div>